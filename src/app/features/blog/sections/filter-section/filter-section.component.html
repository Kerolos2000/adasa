<div class="sticky top-20 z-10 bg-main/50 backdrop-blur-md border-b">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <div class="flex flex-col md:flex-row justify-between items-center gap-6">
      <div class="flex items-center gap-3 w-full md:w-auto">
        <div class="relative flex-1 md:w-80">
          <input [(ngModel)]="searchQuery" (input)="onSearch()" placeholder="ابحث في المقالات..."
            class="w-full px-5 py-3 pr-12 rounded-xl bg-main border border-border focus:outline-none focus:border-orange-500/50 text-white placeholder-neutral-500 transition-all text-sm"
            type="text">
          <i class="fa-solid fa-magnifying-glass absolute right-5 top-1/2 -translate-y-1/2 text-neutral-500"></i>
        </div>

        @if (selectedCategory !== 'الكل' || searchQuery) {
        <button (click)="clearFilters()"
          class="flex items-center gap-2 px-4 py-3 rounded-xl bg-orange-500/10 text-orange-500 border border-orange-500/20 hover:bg-orange-500 hover:text-white transition-all duration-300 active:scale-95 whitespace-nowrap text-sm font-bold"
          title="مسح جميع الفلاتر">
          <i class="fa-solid fa-xmark"></i>
          <span class="hidden sm:inline">مسح الفلاتر</span>
        </button>
        }
      </div>

      <div class="flex flex-wrap justify-center gap-2">
        @for (category of categories; track category) {
        <button (click)="onCategorySelect(category)"
          [class]="selectedCategory === category 
              ? 'px-5 py-2.5 rounded-xl text-sm font-bold bg-orange-500 text-white shadow-lg shadow-orange-500/20 transition-all duration-300' 
              : 'px-5 py-2.5 rounded-xl text-sm font-medium bg-main text-neutral-400 border border-border hover:border-orange-500/30 hover:text-white transition-all duration-300'">
          {{ category === 'الكل' ? 'جميع المقالات' : category }}
        </button>
        }
      </div>
    </div>
  </div>
</div>